<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AuthCore{% endblock %}</title>
    <!-- 1. Add Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. Add a modern font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        // 3. Configure Tailwind
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
            darkMode: 'class', // Enable dark mode
        }
    </script>
    <style>
        /* 4. A small style for the message boxes */
        /* We hide the message box by default */
        .message:not(:empty) {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.375rem; /* rounded-md */
        }
        .message.success {
            background-color: #166534; /* bg-green-800 */
            color: #dcfce7; /* text-green-100 */
            border: 1px solid #22c55e; /* border-green-500 */
        }
        .message.error {
            background-color: #991b1b; /* bg-red-800 */
            color: #fee2e2; /* text-red-100 */
            border: 1px solid #ef4444; /* border-red-500 */
        }
        /* Ensure inputs are dark */
        input:-webkit-autofill,
        input:-webkit-autofill:hover, 
        input:-webkit-autofill:focus, 
        input:-webkit-autofill:active  {
            -webkit-box-shadow: 0 0 0 30px #1f2937 inset !important; /* bg-gray-800 */
            -webkit-text-fill-color: #f3f4f6 !important; /* text-gray-100 */
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans antialiased min-h-screen flex flex-col">
    <!-- Header/Navbar -->
    <nav class="bg-gray-800 shadow-lg">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-7">
                    <!-- Logo -->
                    <div>
                        <a href="{{ url_for('index') }}" class="flex items-center py-4 px-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                            </svg>
                            <span class="font-bold text-gray-100 text-lg">AuthCore</span>
                        </a>
                    </div>
                </div>
                <!-- Nav Links (Desktop) -->
                <div class="hidden md:flex items-center space-x-1">
                    <a href="{{ url_for('login_page') }}" class="py-4 px-2 text-gray-300 hover:text-blue-400 transition duration-300">Login</a>
                    <a href="{{ url_for('register_page') }}" class="py-4 px-2 text-gray-300 hover:text-blue-400 transition duration-300">Register</a>
                    <a href="{{ url_for('reset_page') }}" class="py-4 px-2 text-gray-300 hover:text-blue-400 transition duration-300">Reset Password</a>
                    <a href="{{ url_for('users_page') }}" class="py-4 px-2 text-gray-300 hover:text-blue-400 transition duration-300">User List</a>
                </div>
                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button class="outline-none mobile-menu-button">
                    <svg class=" w-6 h-6 text-gray-300 hover:text-blue-400 "
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- === START OF FIX: MOBILE MENU === -->
        <!-- This menu is hidden by default and only shows on mobile (md:hidden) -->
        <div class="hidden md:hidden" id="mobile-menu">
            <ul class="flex flex-col items-center space-y-1 pb-3">
                <li><a href="{{ url_for('login_page') }}" class="block py-2 px-4 text-sm text-gray-300 hover:text-blue-400 transition duration-300">Login</a></li>
                <li><a href="{{ url_for('register_page') }}" class="block py-2 px-4 text-sm text-gray-300 hover:text-blue-400 transition duration-300">Register</a></li>
                <li><a href="{{ url_for('reset_page') }}" class="block py-2 px-4 text-sm text-gray-300 hover:text-blue-400 transition duration-300">Reset Password</a></li>
                <li><a href="{{ url_for('users_page') }}" class="block py-2 px-4 text-sm text-gray-300 hover:text-blue-400 transition duration-300">User List</a></li>
            </ul>
        </div>
        <!-- === END OF FIX: MOBILE MENU === -->
        
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container max-w-2xl mx-auto p-8">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-center text-sm p-4 text-gray-500">
        &copy; 2025 AuthCore. All rights reserved.
    </footer>

    <!-- 5. Link the JS file. It must be at the BOTTOM. -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>

